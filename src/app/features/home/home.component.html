<main class="main">
  <div class="main__content">
    <div class="content__filter">
      <mat-form-field>
        <mat-icon matPrefix>search</mat-icon>
        <mat-label>Filter by keywords</mat-label>
        <input matInput />
      </mat-form-field>
    </div>
    <div class="content__results">
      <p>Results: {{ (articles$ | async)?.length }}</p>
      <mat-divider></mat-divider>
    </div>
    <div *ngIf="error$ | async as error">
      {{ error.message }}
    </div>
    <div class="content__articles">
      <div *ngIf="articles$ | async as articles" class="articles">
        <div *ngFor="let article of articles" class="article">
          <mat-card class="article__card">
            <div class="card__image">
              <img
                mat-card-image
                [ngSrc]="article.image_url"
                [alt]="article.title"
                fill
                priority
              />
            </div>
            <mat-card-content>
              <mat-card-subtitle class="card__date">
                <mat-icon>calendar_today</mat-icon>
                {{ article.published_at | date }}</mat-card-subtitle
              >
              <mat-card-title>{{ article.title }}</mat-card-title>
              {{ article.summary | slice : 0 : 100 }}
            </mat-card-content>
            <mat-card-actions>
              <button mat-button>
                <p>Read more</p>
                <mat-icon iconPositionEnd>arrow_forward</mat-icon>
              </button>
            </mat-card-actions>
          </mat-card>
        </div>
      </div>
    </div>
  </div>
</main>
